<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajouter un Produit</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
    <div class="container mt-5">
        <form action="/vendeur/produit/ajouter" method="post" class="row g-3">
            <h3>Ajouter un produit</h3>
        
            <div class="col-md-6">
                <label for="nom_produit" class="form-label">Nom :</label>
                <input type="text" id="nom_produit" name="nom_produit" class="form-control" required>
            </div>
        
            <div class="col-md-6">
                <label for="prix_produit" class="form-label">Prix :</label>
                <input type="number" id="prix_produit" name="prix_produit" class="form-control" step="0.01" required>
            </div>
        
            <div class="col-12">
                <label for="description_produit" class="form-label">Description :</label>
                <textarea id="description_produit" name="description_produit" class="form-control" required></textarea>
            </div>
        
            <div class="col-md-6">
                <label for="categorie" class="form-label">Catégorie :</label>
                <select id="categorie" name="categorie" class="form-control" required>
                    <option value="" disabled selected>-- Sélectionnez une catégorie --</option>
                    {% for categorie in categories %}
                        <option value="{{ categorie[0] }}">{{ categorie[1] }}</option>
                    {% endfor %}
                </select>
            </div>
        
            <div class="col-md-6">
                <label for="sexe_produit" class="form-label">Genre :</label>
                <select id="sexe_produit" name="sexe_produit" class="form-control">
                    <option value="Homme">Homme</option>
                    <option value="Femme">Femme</option>
                    <option value="Unisexe" selected>Unisexe</option>
                </select>
            </div>
        
            <div class="col-12">
                <label for="type_produit" class="form-label">Type de produit :</label>
                <select id="type_produit" name="type_produit" class="form-control" required>
                    <option value="Chaussure">Chaussure</option>
                    <option value="Habit">Habit</option>
                    <option value="Accessoire" selected>Accessoire</option>
                </select>
            </div>
        
            <div id="tailles-container" class="col-12 mt-3">
                <h5>Tailles et Quantités :</h5>
                <!-- Les tailles dynamiques seront générées côté backend -->
            </div>
        
            <div class="col-12 mt-3">
                <button type="submit" class="btn btn-success">Ajouter</button>
            </div>
        </form>        
    </div>

    <script>
        function afficherTailles() {
            var typeProduit = document.getElementById("type_produit").value;
            var tailleSection = document.getElementById("taille_section");
            tailleSection.innerHTML = ''; // Réinitialiser la section des tailles

            if (typeProduit == 'Chaussure') {
                // Créer des champs pour les tailles de chaussures (36-45)
                for (var i = 36; i <= 45; i++) {
                    var tailleDiv = document.createElement("div");
                    tailleDiv.classList.add("mb-2");
                    tailleDiv.innerHTML = `
                        <label for="taille" class="form-label">Taille ${i} :</label>
                        <input type="number" name="quantite_taille" class="form-control" required>
                    `;
                    tailleSection.appendChild(tailleDiv);
                }
            } else if (typeProduit == 'Habit') {
                // Créer des champs pour les tailles de vêtements (XS, S, M, L, XL, XXL)
                var tailles = ['XS', 'S', 'M', 'L', 'XL', 'XXL'];
                tailles.forEach(function(taille) {
                    var tailleDiv = document.createElement("div");
                    tailleDiv.classList.add("mb-2");
                    tailleDiv.innerHTML = `
                        <label for="taille" class="form-label">Taille ${taille} :</label>
                        <input type="number" name="quantite_taille" class="form-control" required>
                    `;
                    tailleSection.appendChild(tailleDiv);
                });
            } else {
                // Pas de tailles pour les accessoires
                tailleSection.innerHTML = `
                        <label for="taille" class="form-label"> Quantité:</label>
                        <input type="number" name="quantite_taille" class="form-control" required>
                    `;
            }
        }
    </script>
</body>

</html>
